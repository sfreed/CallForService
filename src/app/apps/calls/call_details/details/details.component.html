<div *ngIf="activeCall">
  <dx-form id="detailsForm" class="callForm" [formData]="activeCall" height="350" [colCount]="2" [labelLocation]="'top'">
    <dxi-item itemType="group" caption="Call Time Information" [widthRatio]="1">
      <dxi-item dataField="receivedDateTime">
          <dx-date-box id="received-date" width="100%" [(value)]="activeCall.receivedDateTime" type="datetime" [stylingMode]="'filled'"></dx-date-box>
      </dxi-item>
      <dxi-item dataField="dispatchedDateTime">
        <dx-date-box id="dispatched-date" width="100%" [(value)]="activeCall.dispatchedDateTime" type="datetime" [stylingMode]="'filled'"></dx-date-box>
      </dxi-item>
      <dxi-item dataField="onHoldDateTime">
        <dx-date-box id="onhold-date" width="100%" [(value)]="activeCall.onHoldDateTime" type="datetime" [stylingMode]="'filled'"></dx-date-box>
      </dxi-item>
      <dxi-item dataField="closedDateTime">
        <dx-date-box id="closed-date" width="100%" [(value)]="activeCall.closedDateTime" type="datetime" [stylingMode]="'filled'"></dx-date-box>
      </dxi-item>
    </dxi-item>
    <dxi-item itemType="group" caption="Call Information" [widthRatio]="1">
      <dxi-item dataField="typeId" [label]="{text: 'Call Type'}" editorType="dxSelectBox" [editorOptions]="{ stylingMode: 'filled', dataSource: callTypes,  valueExpr:'id', displayExpr: getCFSTypeDisplayValue, searchEnabled:true, searchExpr:'code', searchMode:'startsWith'}"></dxi-item>
      <dxi-item dataField="originatedId" [label]="{text: 'Originated From'}" editorType="dxSelectBox" [editorOptions]="{ stylingMode: 'filled', items: callOriginated,  valueExpr:'id', displayExpr:'originatedFrom', searchEnabled:true, searchExpr:'originatedFrom', searchMode:'startsWith'}"></dxi-item>
      <dxi-item dataField="dispatchedByPerson.personId" [label]="{text: 'Dispatched By'}" editorType="dxSelectBox" [editorOptions]="{ stylingMode: 'filled', dataSource: dispatchers, valueExpr:'personId', displayExpr:'fullName', searchEnabled:true, searchExpr:'fullName', searchMode:'startsWith'}"></dxi-item>
      <dxi-item [colSpan]="2"
        itemType="button"
        horizontalAlignment="right"
        verticalAlignment="bottom"
        [buttonOptions]="buttonOptions">
      </dxi-item>
    </dxi-item>
  </dx-form>
</div>

<dx-load-panel
  #loadPanel
  shadingColor="rgba(0,0,0,0.4)"
  [position]="{ of: '#detailsForm' }"
  [(visible)]="showWaitIndicator"
  [showIndicator]="true"
  [showPane]="true"
  [closeOnOutsideClick]="false">
</dx-load-panel>
