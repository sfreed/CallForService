<div *ngIf="callService.getActiveCall()">
  <dx-form id="detailsForm" class="callForm" [formData]="callService.getActiveCall()" height="350" [colCount]="2" [labelLocation]="'top'">
    <dxi-item itemType="group" caption="Call Time Information" [widthRatio]="1" [colCount]="2">
      <dxi-item dataField="receivedDateTime" [label]="{text: 'Received Time'}" editorType="dxDateBox" [editorOptions]="{ stylingMode: 'filled', type: 'datetime' }"></dxi-item>
      <dxi-item dataField="dispatchedDateTime" [label]="{text: 'Received Time'}" editorType="dxDateBox" [editorOptions]="{ stylingMode: 'filled', type: 'datetime' }"></dxi-item>
      <dxi-item dataField="onHoldDateTime" [label]="{text: 'On Hold Time'}" editorType="dxDateBox" [editorOptions]="{ stylingMode: 'filled', type: 'datetime' }"></dxi-item>
      <dxi-item dataField="closedDateTime" [label]="{text: 'Closed Time'}" editorType="dxDateBox" [editorOptions]="{ stylingMode: 'filled', type: 'datetime' }"></dxi-item>
    </dxi-item>
    <dxi-item itemType="group" caption="Call Information" [widthRatio]="1" [colCount]="2">
      <dxi-item dataField="typeId" [colSpan]="2" [label]="{text: 'Call Type'}" editorType="dxSelectBox" [editorOptions]="{ stylingMode: 'filled', dataSource: callTypes,  valueExpr:'id', displayExpr: getCFSTypeDisplayValue, searchEnabled:true, searchExpr:'code', searchMode:'startsWith'}"></dxi-item>
      <dxi-item dataField="originatedId" [label]="{text: 'Origin ted From'}" editorType="dxSelectBox" [editorOptions]="{ stylingMode: 'filled', items: callOriginated,  valueExpr:'id', displayExpr:'originatedFrom', searchEnabled:true, searchExpr:'originatedFrom', searchMode:'startsWith'}"></dxi-item>
      <dxi-item dataField="dispatchedByPerson.personId" [label]="{text: 'Dispatched By'}" editorType="dxSelectBox" [editorOptions]="{ stylingMode: 'filled', dataSource: dispatchers, valueExpr:'personId', displayExpr:'fullName', searchEnabled:true, searchExpr:'fullName', searchMode:'startsWith'}"></dxi-item>
      <dxi-item [colSpan]="2" itemType="button" horizontalAlignment="right" verticalAlignment="bottom" [buttonOptions]="buttonOptions">
      </dxi-item>
    </dxi-item>
  </dx-form>
</div>

<dx-load-panel
  #loadPanel
  shadingColor="rgba(0,0,0,0.4)"
  [position]="{ of: '#detailsForm' }"
  [(visible)]="showWaitIndicator"
  [showIndicator]="true"
  [showPane]="true"
  [closeOnOutsideClick]="false">
</dx-load-panel>
